# Руководство по развертыванию сервиса

## 1. Подготовка окружения

1. Установить PHP 8.1 или выше
2. Установить Composer
3. Установить MySQL 8.0 или выше
4. Установить Node.js и npm (для фронтенд-зависимостей)

## 2. Клонирование проекта

```bash
git clone [URL репозитория]
cd autosalon
```

## 3. Настройка базы данных

1. Создать новую базу данных MySQL
2. Скопировать файл `.env.example` в `.env`
3. Настроить параметры подключения к базе данных в файле `.env`:
   ```
   DB_CONNECTION=mysql
   DB_HOST=127.0.0.1
   DB_PORT=3306
   DB_DATABASE=autosalon
   DB_USERNAME=your_username
   DB_PASSWORD=your_password
   ```

## 4. Установка зависимостей

```bash
composer install
npm install
```

## 5. Настройка приложения

1. Сгенерировать ключ приложения:
   ```bash
   php artisan key:generate
   ```

2. Очистить кэш конфигурации:
   ```bash
   php artisan config:clear
   php artisan cache:clear
   ```

## 6. Миграция и заполнение базы данных

1. Очистить все таблицы и выполнить миграции заново:
   ```bash
   php artisan migrate:fresh
   ```

2. Заполнить базу данных начальными данными:
   ```bash
   php artisan db:seed
   ```

## 7. Компиляция фронтенд-ресурсов

```bash
npm run build
```

## 8. Запуск сервера

1. Запустить сервер разработки:
   ```bash
   php artisan serve
   ```

2. Или настроить веб-сервер (Apache/Nginx) для продакшена

## 9. Проверка работоспособности

1. Открыть приложение в браузере по адресу `http://localhost:8000`
2. Проверить доступность всех основных функций
3. Проверить работу с базой данных

## Возможные проблемы и их решение

1. Если возникают ошибки с правами доступа:
   ```bash
   chmod -R 775 storage bootstrap/cache
   ```

2. Если не работают миграции:
   - Проверить настройки подключения к базе данных
   - Убедиться, что база данных создана и доступна
   - Проверить права доступа пользователя базы данных

3. Если не работают сидеры:
   - Проверить наличие всех необходимых файлов в `database/seeders`
   - Убедиться, что все зависимости установлены
   - Проверить логи на наличие ошибок

## Дополнительные настройки

1. Настройка очередей (если используются):
   ```bash
   php artisan queue:work
   ```

2. Настройка планировщика задач (если используются):
   ```bash
   * * * * * cd /path-to-your-project && php artisan schedule:run >> /dev/null 2>&1
   ```

## Резервное копирование

1. Создание резервной копии базы данных:
   ```bash
   mysqldump -u [username] -p [database_name] > backup.sql
   ```

2. Восстановление из резервной копии:
   ```bash
   mysql -u [username] -p [database_name] < backup.sql
   ``` 